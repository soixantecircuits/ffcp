{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e452a65aa7f391a51d4f","webpack:///./src/ffcp.js"],"names":[],"mappings":"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","file":"ffcp.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ffcp\"] = factory();\n\telse\n\t\troot[\"ffcp\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e452a65aa7f391a51d4f\n **/","module.exports = (function() {\r\n  'use strict'\r\n  let Resizer = {}\r\n\r\n  const ALIGNS = {\r\n    LEFT: 'left',\r\n    RIGHT: 'right',\r\n    CENTER: 'center',\r\n    MIDDLE: 'middle',\r\n    TOP: 'top',\r\n    BOTTOM: 'bottom'\r\n  }\r\n\r\n  const FITS = {\r\n    NONE: 'none',\r\n    FILL: 'fill',\r\n    BEST_FILL: 'best-fill',\r\n    BEST_FIT: 'best-fit',\r\n    BEST_FIT_DOWN_ONLY: 'best-fit-down'\r\n  }\r\n\r\n  const DEFAULT_OPTIONS = {\r\n    scale      : FITS.BEST_FILL,\r\n    alignX     : ALIGNS.CENTER,\r\n    alignY     : ALIGNS.CENTER,\r\n    forceStyle : true,\r\n    //target     : document.body,\r\n    autoResize : true,\r\n    rounding   : 'ceil',\r\n    selectors  : {\r\n      container: '.ffcp-container',\r\n      image    : '.ffcp-image'\r\n    }\r\n  }\r\n\r\n  Resizer.resize = (container, image, options) => {\r\n    let errors = []\r\n\r\n    if (!( container instanceof HTMLElement)) errors.push('wrong container parameter')\r\n    if (!(image instanceof HTMLElement)) errors.push('wrong image parameter')\r\n    if (errors.length) {\r\n      errors.forEach((err) => console.warn(err))\r\n      return\r\n    }\r\n    _waitTillContentReady(image)\r\n      .then(() => {\r\n        if (image.cache) {\r\n          if (image.cache.src === image.src) {\r\n            Object.assign(image, image.cache)\r\n          } else {\r\n            _srcChanged(image, container, options)\r\n            return\r\n          }\r\n        } else image.cache = {\r\n          width: image.width,\r\n          height: image.height,\r\n          src: image.src\r\n        }\r\n        let parameters = _getImageParameters(image, container, options || {})\r\n\r\n        if (!!options.forceStyle) _forceStyle(image, container)\r\n        let dest = {}\r\n        dest.width = parameters.containerWidth\r\n        dest.height = parameters.containerHeight\r\n        let source = {}\r\n        source.width = parameters.imageWidth\r\n        source.height = parameters.imageHeight\r\n\r\n        let layout = _calculateLayout(parameters.scale, parameters.align, source, dest)\r\n\r\n        if (['ceil', 'floor', 'round'].indexOf(parameters.rounding)!== -1) {\r\n          _roundLayoutDimensions(layout, parameters.rounding)\r\n        }\r\n        _applyLayout(image.style, layout)\r\n        _show(image)\r\n      })\r\n  }\r\n\r\n  Resizer.resizeAll = (target, options) => {\r\n    if (!( target instanceof HTMLElement)) {\r\n      console.warn('wrong target parameter')\r\n      return\r\n    }\r\n\r\n    let opts = Object.assign({}, DEFAULT_OPTIONS, options)\r\n      , pairs = _parse(target, opts.selectors.container, opts.selectors.image)\r\n    pairs.forEach((pair) => Resizer.resize(pair.container, pair.image, opts))\r\n  }\r\n\r\n  function _forceStyle(image, container) {\r\n    let containerStyle = window.getComputedStyle(container),\r\n      imageStyle   = window.getComputedStyle(image)\r\n\r\n    if(containerStyle.position !== 'fixed' && containerStyle.position !== 'relative'\r\n      && containerStyle.position !== 'absolute') {\r\n      container.style.position = 'relative'\r\n    }\r\n    if(imageStyle.position !== 'fixed' && imageStyle.position !== 'relative' && imageStyle.position !== 'absolute') {\r\n      image.style.position = 'absolute'\r\n    }\r\n    if(containerStyle.overflow !== 'hidden') container.style.overflow = 'hidden'\r\n  }\r\n\r\n  function _getImageParameters (image, container, options) {\r\n    let params = {}\r\n    params.containerWidth = options.containerWidth || container.dataset.width ||\r\n      container.getAttribute('width') || container.offsetWidth\r\n    params.containerHeight = options.containerHeight || container.dataset.heigh ||\r\n      container.getAttribute('height') || container.offsetHeight\r\n    params.imageWidth = options.imageWidth || image.dataset.width ||\r\n      image.getAttribute('width') || image.offsetWidth\r\n    params.imageHeight = options.imageHeight || image.dataset.height ||\r\n      image.getAttribute('height') || image.offsetHeight\r\n    params.scale = options.scale || image.dataset.scale\r\n    params.rounding = options.rounding || image.dataset.rounding\r\n    params.align = {\r\n      x: options.alignX || image.dataset['align-x'],\r\n      y: options.alignY || image.dataset['align-y']\r\n    }\r\n    return params\r\n  }\r\n\r\n  function _applyLayout (targetImageStyle, layout) {\r\n    targetImageStyle.position = 'relative'\r\n    targetImageStyle.top = layout.y + 'px'\r\n    targetImageStyle.left = layout.x + 'px'\r\n    targetImageStyle.width = layout.width + 'px'\r\n    targetImageStyle.height = layout.height + 'px'\r\n    targetImageStyle.maxWidth = 'none'\r\n    targetImageStyle.margin = 0\r\n  }\r\n\r\n  function _roundLayoutDimensions (layout, rounding) {\r\n    layout.width  = Math[rounding](layout.width)\r\n    layout.height = Math[rounding](layout.height)\r\n    layout.x      = Math[rounding](layout.x)\r\n    layout.y      = Math[rounding](layout.y)\r\n  }\r\n\r\n  function _parse (target, containerSelector, imageSelector) {\r\n    let containers = target.querySelectorAll(containerSelector)\r\n      , pairs = []\r\n\r\n      ;[].forEach.call(containers, (container, i) => {\r\n      let image = container.querySelector(imageSelector)\r\n      if (image) {\r\n        pairs.push({container, image})\r\n      } else {\r\n        console.warn('Failed to find an image in your container.')\r\n      }\r\n    })\r\n\r\n    return pairs\r\n  }\r\n\r\n  function _waitTillContentReady (image) {\r\n    return new Promise((resolve) => {\r\n      image.onload = function () {\r\n        resolve()\r\n        _show(image)\r\n        image.onload = null\r\n      }\r\n      image.src = image.src\r\n    })\r\n  }\r\n\r\n  function _srcChanged (image, container, options) {\r\n    let tmpImage = document.createElement('img') // in-memory image for getting real image size\r\n    tmpImage.onload = () => {\r\n      image.cache.src = tmpImage.src\r\n      image.cache.width = tmpImage.width\r\n      image.cache.height = tmpImage.height\r\n      Resizer.resize(container, image, options) // resize again after new image is loaded. May be not the best solution\r\n      _show(image)\r\n    }\r\n    tmpImage.src = image.src\r\n    _hide(image)\r\n  }\r\n\r\n  function _hide (element) { element.style.display = 'none' }\r\n\r\n  function _show (element) { element.style.display = 'block'}\r\n\r\n  function _calculateLayout (fit, align, source, dest) {\r\n    let scaleX, scaleY, scaleFactor\r\n\r\n    let result = { x: 0, y: 0, width: dest.width, height: dest.height }\r\n    if (fit === FITS.FILL) return result\r\n\r\n    scaleX = dest.width / source.width\r\n    scaleY = dest.height / source.height\r\n\r\n    switch (fit) {\r\n      case FITS.BEST_FIT_DOWN_ONLY:\r\n        if ((source.width > dest.width) || (source.height > dest.height)) {\r\n          scaleFactor = scaleX < scaleY ? scaleX : scaleY\r\n        } else {\r\n          scaleFactor = 1.0\r\n        }\r\n        break\r\n      case FITS.BEST_FIT:\r\n        scaleFactor = scaleX < scaleY ? scaleX : scaleY\r\n        break\r\n      case FITS.NONE:\r\n        scaleFactor = 1.0\r\n        break\r\n      case FITS.BEST_FILL:\r\n      default:\r\n        scaleFactor = scaleX > scaleY ? scaleX : scaleY\r\n        break\r\n    }\r\n\r\n    result.width = Math.round(source.width * scaleFactor)\r\n    result.height = Math.round(source.height * scaleFactor)\r\n\r\n    switch(align.x) {\r\n      case ALIGNS.LEFT:\r\n        result.x = 0\r\n        break\r\n      case ALIGNS.RIGHT:\r\n        result.x = dest.width - result.width\r\n        break\r\n      case ALIGNS.MIDDLE:\r\n      case ALIGNS.CENTER:\r\n        result.x = (dest.width - result.width) / 2\r\n        break\r\n    }\r\n\r\n    switch(align.y) {\r\n      case ALIGNS.TOP:\r\n        result.y = 0\r\n        break\r\n      case ALIGNS.BOTTOM:\r\n        result.y = dest.height - result.height\r\n        break\r\n      case ALIGNS.MIDDLE:\r\n      case ALIGNS.CENTER:\r\n        result.y = (dest.height - result.height) / 2\r\n        break\r\n    }\r\n\r\n    return result\r\n  }\r\n\r\n  Resizer.ALIGNS = ALIGNS\r\n  Resizer.FITS = FITS\r\n\r\n  return Resizer\r\n})()\n\n\n/** WEBPACK FOOTER **\n ** ./src/ffcp.js\n **/"],"sourceRoot":""}