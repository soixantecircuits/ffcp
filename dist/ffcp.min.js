!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ffcp=e():t.ffcp=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o={LEFT:"left",RIGHT:"right",CENTER:"center",MIDDLE:"middle",TOP:"top",BOTTOM:"bottom"},r={NONE:"none",FILL:"fill",BEST_FILL:"best-fill",BEST_FIT:"best-fit",BEST_FIT_DOWN_ONLY:"best-fit-down"},a=function(){function t(e){i(this,t),this.options={scale:r.BEST_FILL,alignX:o.CENTER,alignY:o.CENTER,forceStyle:!0,target:document.body,autoResize:!0,rounding:"ceil",selectors:{container:".do-container",content:".do-content"}},Object.assign(this.options,e),this.elements=[],this._parse(),this.options.auto_resize&&window.addEventListener("resize",this.resizeAll.bind(this)),this.resizeAll()}return n(t,[{key:"resizeAll",value:function(t){var e=this;return[].forEach.call(this.elements,function(i,n){if(e.cachedElements[n]){var o=e.cachedElements[n];Object.assign(i.content,o.content),Object.assign(i.container,o.container),e.resize(i.container,i.content,t)}}),this}},{key:"resize",value:function(t,e,i){var n=[];if(t instanceof HTMLElement||n.push("wrong container parameter"),e instanceof HTMLElement||n.push("wrong content parameter"),n.length)return n.forEach(function(t){return console.warn(t)}),!1;var o={};if(i=i?i:{},o.containerWidth=i.containerWidth||t.getAttribute("data-width")||t.getAttribute("width")||t.offsetWidth,o.containerHeight=i.containerHeight||t.getAttribute("data-height")||t.getAttribute("height")||t.offsetHeight,o.contentWidth=i.contentWidth||e.getAttribute("data-width")||e.getAttribute("width")||e.offsetWidth,o.contentHeight=i.contentHeight||e.getAttribute("data-height")||e.getAttribute("height")||e.offsetHeight,o.scale=i.scale||e.getAttribute("data-scale"),o.rounding=i.rounding||e.getAttribute("data-rounding"),o.align={x:i.alignX||e.getAttribute("data-align-x"),y:i.alignY||e.getAttribute("data-align-y")},i.forceStyle=!!i.forceStyle,i.forceStyle){var r=window.getComputedStyle(t),a=window.getComputedStyle(e);"fixed"!==r.position&&"relative"!==r.position&&"absolute"!==r.position&&(t.style.position="relative"),"fixed"!==a.position&&"relative"!==a.position&&"absolute"!==a.position&&(e.style.position="absolute"),"hidden"!==r.overflow&&(t.style.overflow="hidden")}var h={};h.width=o.containerWidth,h.height=o.containerHeight;var s={};s.width=o.contentWidth,s.height=o.contentHeight;var c=this._innerFrameForSize(o.scale,o.align,s,h);return-1!==["ceil","floor","round"].indexOf(o.rounding)&&(c.width=Math[o.rounding].call(this,c.width),c.height=Math[o.rounding].call(this,c.height),c.x=Math[o.rounding].call(this,c.x),c.y=Math[o.rounding].call(this,c.y)),e.style.position="relative",e.style.top=c.y+"px",e.style.left=c.x+"px",e.style.width=c.width+"px",e.style.height=c.height+"px",e.style.maxWidth="none",e.style.margin=0,e.style.display="block",this}},{key:"_parse",value:function(){var t=this,e=this.options.target;this.elements=[],this.cachedElements=[];var i=e.querySelectorAll(this.options.selectors.container);[].forEach.call(i,function(e,i){var n=e.querySelector(t.options.selectors.content);n&&(t.elements.push({container:e,content:n}),n.style.display="none",function(e,i,n){i.onload=function(){i.style.display="block",t.cachedElements[n]={container:{width:e.width,height:e.height},content:{width:i.width,height:i.height}},t.resize(e,i)}}(e,n,i))})}},{key:"_innerFrameForSize",value:function(t,e,i,n){var a=void 0,h=void 0,s=void 0,c={x:0,y:0,width:n.width,height:n.height};if(t===r.FILL)return c;switch(a=n.width/i.width,h=n.height/i.height,t){case r.BEST_FIT_DOWN_ONLY:s=i.width>n.width||i.height>n.height?h>a?a:h:1;break;case r.BEST_FIT:s=h>a?a:h;break;case r.NONE:s=1;break;case r.BEST_FILL:default:s=a>h?a:h}switch(c.width=Math.round(i.width*s),c.height=Math.round(i.height*s),e.x){case o.LEFT:c.x=0;break;case o.RIGHT:c.x=n.width-c.width;break;case o.MIDDLE:case o.CENTER:c.x=(n.width-c.width)/2}switch(e.y){case o.TOP:c.y=0;break;case o.BOTTOM:c.y=n.height-c.height;break;case o.MIDDLE:case o.CENTER:c.y=(n.height-c.height)/2}return c}}]),t}();t.exports=a}])});
//# sourceMappingURL=ffcp.min.js.map
