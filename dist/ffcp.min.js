!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ffcp=e():t.ffcp=e()}(this,function(){return function(t){function e(h){if(i[h])return i[h].exports;var s=i[h]={exports:{},id:h,loaded:!1};return t[h].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var h=function(){function t(t,e){for(var i=0;i<e.length;i++){var h=e[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(e,i,h){return i&&t(e.prototype,i),h&&t(e,h),e}}(),s={scale:"best-fill",align:"center",parent:null,hideParentOverflow:!0,rescaleOnResize:!1,logLevel:0},n={NONE:"none",FILL:"fill",BEST_FILL:"best-fill",BEST_FIT:"best-fit",BEST_FIT_DOWN_ONLY:"best-fit-down",ALIGN_LEFT:"left",ALIGN_RIGHT:"right",ALIGN_CENTER:"center",ALIGN_TOP:"top",ALIGN_BOTTOM:"bottom",ALIGN_TOP_LEFT:"top-left",ALIGN_TOP_RIGHT:"top-right",ALIGN_BOTTOM_LEFT:"bottom-left",ALIGN_BOTTOM_RIGHT:"bottom-right"},o=function(){function t(e,h){i(this,t);var n=this;this.options=Object.assign({},s,h),this.element=e,this.img="IMG"===e.tagName?e:e.querySelector("img"),this.cache={width:this.img.width,height:this.img.height},this.src=this.img.getAttribute("src"),this.imgWidth=this.img.naturalWidth||this.img.width,this.imgHeight=this.img.naturalHeight||this.img.height,this.parent=this.options.parent?this.options.parent:e.parentNode,this.options.hideParentOverflow&&(this.parent.style.overflow="hidden"),this._canScale=!0,"static"===this.parent.style.position&&(this.parent.style.position="relative"),this.options.rescaleOnResize&&(window.onresize=function(){n.scheduleScale()})}return h(t,[{key:"scheduleScale",value:function(){var t=this;this._didScheduleScale||(window.requestAnimationFrame?!function(){var e=t;t._didScheduleScale=!0,requestAnimationFrame(function(){setTimeout(function(){e.scale(),t._didScheduleScale=!1},0)})}():this.scale())}},{key:"scale",value:function(t,e){var i=this;if(Object.assign(this.img.style,this.cache),this._canScale&&(this.options=Object.assign({},s,t),this.src=this.img.getAttribute("src"),!this.options.rescaleOnResize||this._needUpdate(this.parent))){var h=this.options.transition;h&&(this._canScale=!1,this.element.style.transition="all "+h+"ms",setTimeout(function(){i._canScale=!0,this.element.style.transition="null"},h));var n={};n.width=this.options.destWidth?this.options.destWidth:this.parent.offsetWidth,n.height=this.options.destHeight?this.options.destHeight:this.parent.offsetHeight,n.innerWidth=this.options.destWidth?this.options.destWidth:this.parent.clientWidth,n.innerHeight=this.options.destHeight?this.options.destHeight:this.parent.clientHeight;var o=n.width-n.innerWidth,a=n.height-n.innerHeight;if(!this.options.scale)return void(this.options.logLevel>2&&console.log("imageScale - DEBUG NOTICE: The scale property is null.",this.element));var r={width:this.img.width,height:this.img.height},l=this._innerFrameForSize(t.scale,t.align,r,n);o&&(l.x-=o/2),a&&(l.y-=a/2),this.element.style.position="relative",this.element.style.top=l.y+"px",this.element.style.left=l.x+"px",this.element.style.width=l.width+"px",this.element.style.height=l.height+"px",this.element.style.maxWidth="none",this.element.style.margin="auto",this.element.style.display="block",e&&e()}}},{key:"_needUpdate",value:function(t){var e=t.clientHeight+" "+t.clientWidth;return this._lastParentSize!==e?(this._lastParentSize=e,!0):!1}},{key:"_innerFrameForSize",value:function(t,e,i,h){var s=void 0,o=void 0,a=void 0,r=void 0;if(a={x:0,y:0,width:h.width,height:h.height},t===n.FILL)return a;switch(s=h.width/i.width,o=h.height/i.height,t){case n.BEST_FIT_DOWN_ONLY:this.options.logLevel>1&&console.warn("imageScale - DEBUG WARNING: The scale "+t+"was not understood."),r=i.width>h.width||i.height>h.height?o>s?s:o:1;break;case n.BEST_FIT:r=o>s?s:o;break;case n.NONE:r=1;break;case n.BEST_FILL:default:r=s>o?s:o}switch(a.width=Math.round(i.width*r),a.height=Math.round(i.height*r),e){case this.ALIGN_LEFT:a.x=0,a.y=h.height/2-i.height/2;break;case this.ALIGN_RIGHT:a.x=-i.width,a.y=h.height/2-i.height/2;break;case this.ALIGN_TOP:a.x=h.width/2-i.width/2,a.y=0;break;case this.ALIGN_BOTTOM:a.x=h.width/2-i.width/2,a.y=h.height-i.height;break;case this.ALIGN_TOP_LEFT:a.x=0,a.y=0;break;case this.ALIGN_TOP_RIGHT:a.x=h.width-i.width,a.y=0;break;case this.ALIGN_BOTTOM_LEFT:a.x=0,a.y=h.height-i.height;break;case this.ALIGN_BOTTOM_RIGHT:a.x=h.width-i.width,a.y=h.height-i.height;break;default:e!==this.ALIGN_CENTER&&this.options.logLevel>1&&console.warn("imageScale - DEBUG WARNING: The align "+e+" was not understood."),a.x=h.width/2-i.width/2,a.y=h.height/2-i.height/2}return a}}]),t}();t.exports=o}])});
//# sourceMappingURL=ffcp.min.js.map
