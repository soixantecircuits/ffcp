!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ffcp=e():t.ffcp=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var h=i[n]={exports:{},id:n,loaded:!1};return t[n].call(h.exports,h,h.exports,e),h.loaded=!0,h.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h={NONE:"none",FILL:"fill",BEST_FILL:"best-fill",BEST_FIT:"best-fit",BEST_FIT_DOWN_ONLY:"best-fit-down",ALIGN_LEFT:"left",ALIGN_RIGHT:"right",ALIGN_CENTER:"center",ALIGN_TOP:"top",ALIGN_BOTTOM:"bottom",ALIGN_TOP_LEFT:"top-left",ALIGN_TOP_RIGHT:"top-right",ALIGN_BOTTOM_LEFT:"bottom-left",ALIGN_BOTTOM_RIGHT:"bottom-right"},o=function(){function t(){i(this,t),this.options={scale:"best-fill",align:"center",force_style:!0,parse:!0,target:document.body,auto_resize:!0,classes:{to_resize:"do-container",content:"do-content"}},this.elements=[],this.options.parse&&this.parse(),this.options.auto_resize&&this.initAutoResize()}return n(t,[{key:"initAutoResize",value:function(){return this.resizeAll(),this}},{key:"parse",value:function(t,e){t=t||this.options.target,e=e||this.options.classes.to_resize,this.elements=[],this.cachedElements=[];for(var i=t.querySelectorAll("."+e),n=0,h=i.length;h>n;n++){var o=i[n],r=o.querySelector("."+this.options.classes.content);r&&(this.elements.push({container:o,content:r}),this.cachedElements.push({container:{width:o.width,height:o.height},content:{width:r.width,height:r.height}}))}return this}},{key:"resizeAll",value:function(t){for(var e=0,i=this.elements.length;i>e;e++){var n=this.elements[e],h=this.cachedElements[e];Object.assign(n.content,h.content),Object.assign(n.container,h.container),this.resize(n.container,n.content,t)}return this}},{key:"resize",value:function(t,e,i){var n=[];if(t instanceof HTMLElement||n.push("wrong container parameter"),e instanceof HTMLElement||n.push("wrong content parameter"),n.length){for(var h=0;h<n.length;h++)console.warn(n[h]);return!1}var o={};if(i=i?i:{},o.container_width=i.containerWidth||t.getAttribute("data-width")||t.getAttribute("width")||t.offsetWidth,o.container_height=i.containerHeight||t.getAttribute("data-height")||t.getAttribute("height")||t.offsetHeight,o.content_width=i.contentWidth||e.getAttribute("data-width")||e.getAttribute("width")||e.offsetWidth,o.content_height=i.contentHeight||e.getAttribute("data-height")||e.getAttribute("height")||e.offsetHeight,o.align=i.align||e.getAttribute("data-align"),o.scale=i.scale||e.getAttribute("data-scale"),i.force_style=!!i.force_style,i.force_style){var r=window.getComputedStyle(t),a=window.getComputedStyle(e);"fixed"!==r.position&&"relative"!==r.position&&"absolute"!==r.position&&(t.style.position="relative"),"fixed"!==a.position&&"relative"!==a.position&&"absolute"!==a.position&&(e.style.position="absolute"),"hidden"!==r.overflow&&(t.style.overflow="hidden")}var s={};s.width=o.container_width,s.height=o.container_height;var c={};c.width=o.content_width,c.height=o.content_height;var d=this._innerFrameForSize(o.scale,o.align,c,s);return e.style.position="relative",e.style.width=d.width+"px",e.style.height=d.height+"px",e.style.maxWidth="none",e.style.margin=0,e.style.display="block",this}},{key:"getSizes",value:function(t,e){var i=[];if("undefined"!=typeof t.content_width&&0!==parseInt(t.content_width,10)||i.push("content width must be specified"),"undefined"!=typeof t.content_height&&0!==parseInt(t.content_height,10)||i.push("content height must be specified"),"undefined"!=typeof t.container_width&&0!==parseInt(t.container_width,10)||i.push("container width must be specified"),"undefined"!=typeof t.container_height&&0!==parseInt(t.container_height,10)||i.push("container height must be specified"),i.length)return!1;"undefined"==typeof e&&(e="both"),t.fit_type=t.fit_type||"fill",t.align_x=t.align_x||"center",t.align_y=t.align_y||"center",t.rounding=t.rounding||"ceil";var n=t.content_width/t.content_height,h=t.container_width/t.container_height,o=0,r=0,a=0,s=0,c=null;t.fit_type=t.fit_type.toLowerCase(),t.align_x=t.align_x.toLowerCase(),t.align_y=t.align_y.toLowerCase(),t.rounding=t.rounding.toLowerCase(),"undefined"!=typeof t.align_x&&-1!==["left","center","middle","right"].indexOf(t.align_x)||(t.align_x="center"),"undefined"!=typeof t.align_y&&-1!==["top","center","middle","bottom"].indexOf(t.align_y)||(t.align_y="center");var d=function(){switch(o=t.container_width,r=t.container_width/t.content_width*t.content_height,a=0,c="width",t.align_y){case"top":s=0;break;case"middle":case"center":s=(t.container_height-r)/2;break;case"bottom":s=t.container_height-r}},l=function(){switch(r=t.container_height,o=t.container_height/t.content_height*t.content_width,s=0,c="height",t.align_x){case"left":a=0;break;case"middle":case"center":a=(t.container_width-o)/2;break;case"right":a=t.container_width-o}};-1!==["fill","full","cover"].indexOf(t.fit_type)?h>n?d():l():-1!==["fit","i sits","contain"].indexOf(t.fit_type)&&(h>n?l():d()),-1!==["ceil","floor","round"].indexOf(t.rounding)&&(o=Math[t.rounding].call(this,o),r=Math[t.rounding].call(this,r),a=Math[t.rounding].call(this,a),s=Math[t.rounding].call(this,s));var g={};return g.cartesian={},g.cartesian.width=o,g.cartesian.height=r,g.cartesian.x=a,g.cartesian.y=s,g.css={},g.css.width=o+"px",g.css.height=r+"px",g.css.left=a+"px",g.css.top=s+"px",g.fit_in=c,"both"===e?g:"cartesian"===e?g.cartesian:"css"===e?g.css:void 0}},{key:"_innerFrameForSize",value:function(t,e,i,n){var o=void 0,r=void 0,a=void 0,s=void 0;if(a={x:0,y:0,width:n.width,height:n.height},t===h.FILL)return a;switch(o=n.width/i.width,r=n.height/i.height,t){case h.BEST_FIT_DOWN_ONLY:s=i.width>n.width||i.height>n.height?r>o?o:r:1;break;case h.BEST_FIT:s=r>o?o:r;break;case h.NONE:s=1;break;case h.BEST_FILL:default:s=o>r?o:r}switch(a.width=Math.round(i.width*s),a.height=Math.round(i.height*s),e){case this.ALIGN_LEFT:a.x=0,a.y=n.height/2-i.height/2;break;case this.ALIGN_RIGHT:a.x=-i.width,a.y=n.height/2-i.height/2;break;case this.ALIGN_TOP:a.x=n.width/2-i.width/2,a.y=0;break;case this.ALIGN_BOTTOM:a.x=n.width/2-i.width/2,a.y=n.height-i.height;break;case this.ALIGN_TOP_LEFT:a.x=0,a.y=0;break;case this.ALIGN_TOP_RIGHT:a.x=n.width-i.width,a.y=0;break;case this.ALIGN_BOTTOM_LEFT:a.x=0,a.y=n.height-i.height;break;case this.ALIGN_BOTTOM_RIGHT:a.x=n.width-i.width,a.y=n.height-i.height;break;default:a.x=n.width/2-i.width/2,a.y=n.height/2-i.height/2}return a}}]),t}();t.exports=o}])});
//# sourceMappingURL=ffcp.min.js.map
