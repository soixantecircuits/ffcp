!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.ffcp=t():e.ffcp=t()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t){"use strict";e.exports=function(){function e(e,t){var i=window.getComputedStyle(t),n=window.getComputedStyle(e);"fixed"!==i.position&&"relative"!==i.position&&"absolute"!==i.position&&(t.style.position="relative"),"fixed"!==n.position&&"relative"!==n.position&&"absolute"!==n.position&&(e.style.position="absolute"),"hidden"!==i.overflow&&(t.style.overflow="hidden")}function t(e,t,i){var n={};return n.containerWidth=i.containerWidth||t.dataset.width||t.getAttribute("width")||t.offsetWidth,n.containerHeight=i.containerHeight||t.dataset.heigh||t.getAttribute("height")||t.offsetHeight,n.imageWidth=i.imageWidth||e.dataset.width||e.getAttribute("width")||e.offsetWidth,n.imageHeight=i.imageHeight||e.dataset.height||e.getAttribute("height")||e.offsetHeight,n.scale=i.scale||e.dataset.scale,n.rounding=i.rounding||e.dataset.rounding,n.align={x:i.alignX||e.dataset["align-x"],y:i.alignY||e.dataset["align-y"]},n}function i(e,t){e.position="relative",e.top=t.y+"px",e.left=t.x+"px",e.width=t.width+"px",e.height=t.height+"px",e.maxWidth="none",e.margin=0}function n(e,t){e.width=Math[t](e.width),e.height=Math[t](e.height),e.x=Math[t](e.x),e.y=Math[t](e.y)}function o(e,t,i){var n=e.querySelectorAll(t),o=[];return[].forEach.call(n,function(e,t){var n=e.querySelector(i);n?o.push({container:e,image:n}):console.warn("Failed to find an image in your container.")}),o}function a(e){return new Promise(function(t){e.onload=function(){t(),c(e),e.onload=null},e.src=e.src})}function r(e,t,i){var n=document.createElement("img");n.onload=function(){e.cache.src=n.src,e.cache.width=n.width,e.cache.height=n.height,d.resize(t,e,i),c(e)},n.src=e.src,h(e)}function h(e){e.style.display="none"}function c(e){e.style.display="block"}function s(e,t,i,n){var o=void 0,a=void 0,r=void 0,h={x:0,y:0,width:n.width,height:n.height};if(e===g.FILL)return h;switch(o=n.width/i.width,a=n.height/i.height,e){case g.BEST_FIT_DOWN_ONLY:r=i.width>n.width||i.height>n.height?a>o?o:a:1;break;case g.BEST_FIT:r=a>o?o:a;break;case g.NONE:r=1;break;case g.BEST_FILL:default:r=o>a?o:a}switch(h.width=Math.round(i.width*r),h.height=Math.round(i.height*r),t.x){case l.LEFT:h.x=0;break;case l.RIGHT:h.x=n.width-h.width;break;case l.MIDDLE:case l.CENTER:h.x=(n.width-h.width)/2}switch(t.y){case l.TOP:h.y=0;break;case l.BOTTOM:h.y=n.height-h.height;break;case l.MIDDLE:case l.CENTER:h.y=(n.height-h.height)/2}return h}var d={},l={LEFT:"left",RIGHT:"right",CENTER:"center",MIDDLE:"middle",TOP:"top",BOTTOM:"bottom"},g={NONE:"none",FILL:"fill",BEST_FILL:"best-fill",BEST_FIT:"best-fit",BEST_FIT_DOWN_ONLY:"best-fit-down"},f={scale:g.BEST_FILL,alignX:l.CENTER,alignY:l.CENTER,forceStyle:!0,autoResize:!0,rounding:"ceil",selectors:{container:".ffcp-container",image:".ffcp-image"}};return d.resize=function(o,h,d){var l=[];return o instanceof HTMLElement||l.push("wrong container parameter"),h instanceof HTMLElement||l.push("wrong image parameter"),l.length?void l.forEach(function(e){return console.warn(e)}):void a(h).then(function(){if(h.cache){if(h.cache.src!==h.src)return void r(h,o,d);Object.assign(h,h.cache)}else h.cache={width:h.width,height:h.height,src:h.src};var a=t(h,o,d||{});d.forceStyle&&e(h,o);var l={};l.width=a.containerWidth,l.height=a.containerHeight;var g={};g.width=a.imageWidth,g.height=a.imageHeight;var f=s(a.scale,a.align,g,l);-1!==["ceil","floor","round"].indexOf(a.rounding)&&n(f,a.rounding),i(h.style,f),c(h)})},d.resizeAll=function(e,t){if(!(e instanceof HTMLElement))return void console.warn("wrong target parameter");var i=Object.assign({},f,t),n=o(e,i.selectors.container,i.selectors.image);n.forEach(function(e){return d.resize(e.container,e.image,i)})},d.ALIGNS=l,d.FITS=g,d}()}])});
//# sourceMappingURL=ffcp.min.js.map
