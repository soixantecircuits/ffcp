!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ffcp=e():t.ffcp=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(){i(this,t),this.options={force_style:!0,parse:!0,target:document.body,auto_resize:!0,classes:{to_resize:"b-resize",content:"b-content"}},this.elements=[],options.parse&&this.parse(),options.auto_resize&&this.initAutoResize()}return n(t,[{key:"initAutoResize",value:function(){return this.resizeAll(),this}},{key:"parse",value:function(t,e){t=t||options.target,e=e||options.classes.to_resize,this.elements=[];for(var i=t.querySelectorAll("."+e),n=0,o=i.length;o>n;n++){var r=i[n],s=r.querySelector("."+options.classes.content);s&&this.elements.push({container:r,content:s})}return this}},{key:"resizeAll",value:function(){for(var t=0,e=this.elements.length;e>t;t++){var i=this.elements[t];this.resize(i.container,i.content)}return this}},{key:"resize",value:function(t,e,i){var n=[];if(t instanceof HTMLElement||n.push("wrong container parameter"),e instanceof HTMLElement||n.push("wrong content parameter"),n.length){for(var o=0;o<n.length;o++)console.warn(n[o]);return!1}var r={};r.container_width=t.getAttribute("data-width")||t.getAttribute("width")||t.offsetWidth,r.container_height=t.getAttribute("data-height")||t.getAttribute("height")||t.offsetHeight,r.content_width=e.getAttribute("data-width")||e.getAttribute("width")||e.offsetWidth,r.content_height=e.getAttribute("data-height")||e.getAttribute("height")||e.offsetHeight,r.fit_type=e.getAttribute("data-fit-type"),r.align_x=e.getAttribute("data-align-x"),r.align_y=e.getAttribute("data-align-y"),r.rounding=e.getAttribute("data-rounding");var s=this.getSizes(r);if(!s)return!1;if(i="undefined"==typeof i?options.force_style:i){var a=window.getComputedStyle(t),c=window.getComputedStyle(e);"fixed"!==a.position&&"relative"!==a.position&&"absolute"!==a.position&&(t.style.position="relative"),"fixed"!==c.position&&"relative"!==c.position&&"absolute"!==c.position&&(e.style.position="absolute"),"hidden"!==a.overflow&&(t.style.overflow="hidden")}return e.style.top=s.css.top,e.style.left=s.css.left,e.style.width=s.css.width,e.style.height=s.css.height,this}},{key:"getSizes",value:function(t,e){var i=[];if("undefined"!=typeof t.content_width&&0!==parseInt(t.content_width,10)||i.push("content width must be specified"),"undefined"!=typeof t.content_height&&0!==parseInt(t.content_height,10)||i.push("content height must be specified"),"undefined"!=typeof t.container_width&&0!==parseInt(t.container_width,10)||i.push("container width must be specified"),"undefined"!=typeof t.container_height&&0!==parseInt(t.container_height,10)||i.push("container height must be specified"),i.length)return!1;"undefined"==typeof e&&(e="both"),t.fit_type=t.fit_type||"fill",t.align_x=t.align_x||"center",t.align_y=t.align_y||"center",t.rounding=t.rounding||"ceil";var n=t.content_width/t.content_height,o=t.container_width/t.container_height,r=0,s=0,a=0,c=0,h=null;t.fit_type=t.fit_type.toLowerCase(),t.align_x=t.align_x.toLowerCase(),t.align_y=t.align_y.toLowerCase(),t.rounding=t.rounding.toLowerCase(),"undefined"!=typeof t.align_x&&-1!==["left","center","middle","right"].indexOf(t.align_x)||(t.align_x="center"),"undefined"!=typeof t.align_y&&-1!==["top","center","middle","bottom"].indexOf(t.align_y)||(t.align_y="center");var l=function(){switch(r=t.container_width,s=t.container_width/t.content_width*t.content_height,a=0,h="width",t.align_y){case"top":c=0;break;case"middle":case"center":c=(t.container_height-s)/2;break;case"bottom":c=t.container_height-s}},d=function(){switch(s=t.container_height,r=t.container_height/t.content_height*t.content_width,c=0,h="height",t.align_x){case"left":a=0;break;case"middle":case"center":a=(t.container_width-r)/2;break;case"right":a=t.container_width-r}};-1!==["fill","full","cover"].indexOf(t.fit_type)?o>n?l():d():-1!==["fit","i sits","contain"].indexOf(t.fit_type)&&(o>n?d():l()),-1!==["ceil","floor","round"].indexOf(t.rounding)&&(r=Math[t.rounding].call(this,r),s=Math[t.rounding].call(this,s),a=Math[t.rounding].call(this,a),c=Math[t.rounding].call(this,c));var f={};return f.cartesian={},f.cartesian.width=r,f.cartesian.height=s,f.cartesian.x=a,f.cartesian.y=c,f.css={},f.css.width=r+"px",f.css.height=s+"px",f.css.left=a+"px",f.css.top=c+"px",f.fit_in=h,"both"===e?f:"cartesian"===e?f.cartesian:"css"===e?f.css:void 0}}]),t}();t.exports=o}])});
//# sourceMappingURL=ffcp.min.js.map
